<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report name" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="8" bottomMargin="20" uuid="ed150658-2dd9-4dfe-9a47-8996109db19e">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="fechaInicialUtilidad" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="fechaFinalUtilidad" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT greenappsdemo.Producto.codigoProducto, valorCompraProducto, greenappsdemo.detalleVenta.* FROM Producto 
INNER JOIN detalleVenta ON Producto.idProducto = detalleVenta.idProducto 
INNER JOIN Venta ON detalleVenta.idVenta=Venta.idVenta 
WHERE fechaVenta BETWEEN $P{fechaInicialUtilidad} AND $P{fechaFinalUtilidad}]]>
	</queryString>
	<field name="codigoProducto" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="valorCompraProducto" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="idDetalleVenta" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="idVenta" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="idProducto" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombreProducto" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="valorVentaProducto" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="IVA" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="totalIva" class="java.lang.Float">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="unidadesVendidas" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="totalDetalleVenta" class="java.lang.Float">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="utilidad" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{valorVentaProducto}*$F{unidadesVendidas}-$F{valorCompraProducto}*$F{unidadesVendidas}-$F{valorVentaProducto}*0.19*$F{IVA}*$F{unidadesVendidas}-$F{valorCompraProducto}*0.19*$F{IVA}*$F{unidadesVendidas}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="utilidadUnitaria" class="java.lang.Double">
		<variableExpression><![CDATA[$F{valorVentaProducto}*$F{unidadesVendidas}-$F{valorCompraProducto}*$F{unidadesVendidas}-$F{valorVentaProducto}*0.19*$F{IVA}*$F{unidadesVendidas}-$F{valorCompraProducto}*0.19*$F{IVA}*$F{unidadesVendidas}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="iva" class="java.lang.Double">
		<variableExpression><![CDATA[$F{IVA}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="ivaCompra" class="java.lang.Double">
		<variableExpression><![CDATA[$F{valorCompraProducto}*0.19*$F{IVA}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="totalIvaCompra" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$V{ivaCompra}*$F{unidadesVendidas}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="ivaVenta" class="java.lang.Double">
		<variableExpression><![CDATA[$F{valorVentaProducto}*0.19*$F{IVA}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="totalIvaVenta" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$V{ivaVenta}*$F{unidadesVendidas}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="totalVenta" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{valorVentaProducto}*$F{unidadesVendidas}]]></variableExpression>
	</variable>
	<variable name="totalCompra" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{valorCompraProducto}*$F{unidadesVendidas}]]></variableExpression>
	</variable>
	<variable name="valorCompraPdcto" class="java.lang.Double">
		<variableExpression><![CDATA[$F{valorCompraProducto}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="valorVentaPdcto" class="java.lang.Double">
		<variableExpression><![CDATA[$F{valorVentaProducto}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="69" splitType="Stretch">
			<image>
				<reportElement x="223" y="2" width="86" height="67" uuid="8cefeba3-e068-4f89-afcb-607c683cb175"/>
				<imageExpression><![CDATA["/Users/csrsto/Documents/feed!back/GreenApps/GreenApps/web/imgs/GreenApps.jpg"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="352" y="24" width="188" height="20" uuid="62032622-326f-4851-8bcd-ec7f1c7fd581"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[REPORTE DE UTILIDADES]]></text>
			</staticText>
			<staticText>
				<reportElement x="21" y="24" width="147" height="20" uuid="1937862c-f165-4018-bd92-2d290e52e82f"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ALMACEN M10R]]></text>
			</staticText>
		</band>
	</title>
	<columnHeader>
		<band height="22" splitType="Stretch">
			<staticText>
				<reportElement x="-19" y="2" width="93" height="20" uuid="ec0293b7-81bf-4b4b-a917-37999f6dcbf8"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[CÃ³digo Producto]]></text>
			</staticText>
			<staticText>
				<reportElement x="171" y="2" width="78" height="20" uuid="3a022e7b-d8c9-475d-bece-5ef0d2ef39cd"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Vlr Cpa Pdcto]]></text>
			</staticText>
			<staticText>
				<reportElement x="495" y="2" width="64" height="20" uuid="0fec8128-6419-4370-9a66-59724cee24cc"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Utilidad]]></text>
			</staticText>
			<staticText>
				<reportElement x="306" y="2" width="77" height="20" uuid="55a8a533-718b-471c-a300-b21b999ab4cb"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Vlr Vta Pdcto]]></text>
			</staticText>
			<staticText>
				<reportElement x="74" y="2" width="100" height="20" uuid="63fc591a-7072-441d-a602-52da51ce885c"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Nombre Producto]]></text>
			</staticText>
			<staticText>
				<reportElement x="237" y="2" width="87" height="20" uuid="d53705ef-3541-4f42-bb2e-1f26cca9ee60"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[IVA Cpa]]></text>
			</staticText>
			<staticText>
				<reportElement x="364" y="2" width="87" height="20" uuid="faee8f95-09d6-4470-a8d6-16987c1cc176"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[IVA Vta]]></text>
			</staticText>
			<staticText>
				<reportElement x="434" y="2" width="64" height="20" uuid="fec7ab85-1de8-48bd-b252-46b7a3862755"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Unidades]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="23" splitType="Stretch">
			<textField>
				<reportElement x="-8" y="2" width="63" height="20" uuid="772ba271-fb96-4fed-b8ae-c0181fdb13cb"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{codigoProducto}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="73" y="2" width="100" height="20" uuid="85302d2a-b3af-4188-b293-0b47a9ae1484"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{nombreProducto}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0">
				<reportElement x="159" y="2" width="100" height="20" uuid="fdc0c806-f5f7-44f6-a232-c9f24ddf6ecb"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{valorCompraPdcto}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0">
				<reportElement x="300" y="2" width="91" height="20" uuid="7fbb9ae8-de12-4ceb-ac5d-e71b67572fd1"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{valorVentaPdcto}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="402" y="2" width="123" height="20" uuid="1590e332-5013-4609-91b1-caac90270d7d"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{unidadesVendidas}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0">
				<reportElement x="197" y="2" width="100" height="20" uuid="f23e2d2f-8beb-48c9-95a8-02a6f819d9ea"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{ivaCompra}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0">
				<reportElement x="322" y="2" width="100" height="20" uuid="33b466ca-1ade-42ae-bf41-4d32cf2e16a6"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{ivaVenta}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0">
				<reportElement x="456" y="2" width="100" height="20" uuid="7184dc0a-a043-471d-882c-a435fdd4a51c"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{utilidadUnitaria}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="25" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="105" splitType="Stretch">
			<staticText>
				<reportElement x="336" y="23" width="100" height="20" uuid="cd432de5-14a2-4b97-9940-f942d3956b4f"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Total Venta:]]></text>
			</staticText>
			<staticText>
				<reportElement x="336" y="3" width="100" height="20" uuid="0338faf4-f5d5-47c6-8d76-de89244653f9"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Total Compra:]]></text>
			</staticText>
			<staticText>
				<reportElement x="336" y="81" width="100" height="20" uuid="37204436-85ce-411e-968f-d75d3bd90db1"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Total Utilidad:]]></text>
			</staticText>
			<staticText>
				<reportElement x="336" y="61" width="100" height="20" uuid="c80595ef-cabf-4f03-95d9-c2a1bd8ce55c"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Total Iva Venta:]]></text>
			</staticText>
			<staticText>
				<reportElement x="336" y="43" width="100" height="20" uuid="e62da604-be70-4831-a792-2656570de1ba"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Total Iva Compra:]]></text>
			</staticText>
			<textField pattern="$#,##0">
				<reportElement x="403" y="23" width="100" height="20" uuid="fae39c12-8713-40ab-a4d4-e687820eb8b6"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{totalVenta}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0">
				<reportElement x="403" y="3" width="100" height="20" uuid="7870a742-04af-4748-9695-e691bf027809"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{totalCompra}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0">
				<reportElement x="403" y="43" width="100" height="20" uuid="289308cd-a49b-4038-8380-6416f72a0d12"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{totalIvaCompra}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0">
				<reportElement x="403" y="61" width="100" height="20" uuid="d87cd445-297b-4373-96fd-3320f1e96113"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{totalIvaVenta}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0">
				<reportElement x="403" y="81" width="100" height="20" uuid="7abbcbcf-ce79-4982-b0fa-f90a99a767b0"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{utilidad}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
